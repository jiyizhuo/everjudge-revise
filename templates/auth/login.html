{% extends "base.html" %}
{% block title %}登录 - EverJudge{% endblock %}
{% block content %}
<div class="max-w-md mx-auto">
    <div class="bg-white dark:bg-slate-800 rounded-2xl shadow-xl border border-slate-200 dark:border-slate-700 overflow-hidden">
        <div class="px-6 sm:px-8 pt-8 pb-2">
            <h2 class="text-2xl font-bold text-slate-800 dark:text-white">登录</h2>
            <p class="text-slate-500 dark:text-slate-400 text-sm mt-1">使用你的账户登录 EverJudge</p>
        </div>
        <form method="post" action="{{ url_for('auth.login') }}" class="px-6 sm:px-8 pb-8 space-y-5">
            {{ form.hidden_tag() }}
            <div>
                <label for="username" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">用户名</label>
                <input type="text" name="username" id="username" value="{{ form.username.data or '' }}" required
                    class="w-full px-4 py-2.5 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-colors"
                    placeholder="请输入用户名">
                {% if form.username.errors %}
                <p class="mt-1.5 text-sm text-red-600 dark:text-red-400">{{ form.username.errors[0] }}</p>
                {% endif %}
            </div>
            <div>
                <label for="password" class="block text-sm font-medium text-slate-700 dark:text-slate-300 mb-1.5">密码</label>
                <input type="password" name="password" id="password" required
                    class="w-full px-4 py-2.5 rounded-xl border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-700 text-slate-800 dark:text-slate-200 placeholder-slate-400 focus:ring-2 focus:ring-[var(--color-primary)] focus:border-[var(--color-primary)] transition-colors"
                    placeholder="请输入密码">
                {% if form.password.errors %}
                <p class="mt-1.5 text-sm text-red-600 dark:text-red-400">{{ form.password.errors[0] }}</p>
                {% endif %}
                <div class="mt-1.5 text-right">
                    <a href="{{ url_for('auth.forgot_password') }}" class="text-sm text-primary hover:underline">忘记密码？</a>
                </div>
            </div>
            <div class="flex items-center">
                <input type="checkbox" name="remember_me" id="remember_me" value="y" {{ 'checked' if form.remember_me.data else '' }}
                    class="rounded border-slate-300 dark:border-slate-600 text-[var(--color-primary)] focus:ring-[var(--color-primary)]">
                <label for="remember_me" class="ml-2 text-sm text-slate-600 dark:text-slate-400">记住我</label>
            </div>
            <button type="submit" class="w-full py-3 px-4 rounded-xl text-white font-medium btn-primary hover:opacity-95 transition-opacity focus:ring-2 focus:ring-offset-2 focus:ring-[var(--color-primary)] focus:ring-offset-white dark:focus:ring-offset-slate-800">登录</button>
        </form>
        <div class="px-6 sm:px-8 pb-6 pt-0 border-t border-slate-100 dark:border-slate-700">
            <p class="text-sm text-slate-500 dark:text-slate-400">
                还没有账号？ <a href="{{ url_for('auth.register') }}" class="font-medium text-primary hover:underline">立即注册</a>
            </p>
        </div>
    </div>
</div>
{% endblock %}
